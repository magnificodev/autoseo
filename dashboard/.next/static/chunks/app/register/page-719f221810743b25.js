(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{5330:function(e,t,r){Promise.resolve().then(r.bind(r,607))},607:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(7437),a=r(2265),n=r(6463),l=r(495),i=r(3102),o=r(6013),c=r(8030);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),u=(0,c.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),h=(0,c.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),m=(0,c.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=r(2022);function f(){let[e,t]=(0,a.useState)(""),[r,c]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(""),[C,R]=(0,a.useState)(!1),Z=(0,n.useRouter)(),M=async t=>{if(t.preventDefault(),j(!0),k(""),!e||!r||!f){k("Vui l\xf2ng điền đầy đủ th\xf4ng tin"),j(!1);return}if(r!==f){k("Mật khẩu x\xe1c nhận kh\xf4ng khớp"),j(!1);return}if(r.length<6){k("Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự"),j(!1);return}try{let t=new URLSearchParams;t.append("email",e),t.append("password",r);let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(s.ok)R(!0),setTimeout(()=>{Z.push("/login")},2e3);else{let e=await s.json();k(e.detail||"Đăng k\xfd thất bại")}}catch(e){k("Lỗi kết nối. Vui l\xf2ng thử lại.")}finally{j(!1)}};return C?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)(o.Zb,{className:"w-full max-w-md",children:(0,s.jsx)(o.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Đăng k\xfd th\xe0nh c\xf4ng!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"T\xe0i khoản của bạn đ\xe3 được tạo với quyền Viewer."}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Đang chuyển hướng đến trang đăng nhập..."})]})})})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)(o.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(o.Ol,{className:"text-center",children:[(0,s.jsx)(o.ll,{className:"text-2xl font-bold",children:"Đăng k\xfd t\xe0i khoản"}),(0,s.jsx)(o.SZ,{children:"Tạo t\xe0i khoản mới để truy cập hệ thống"})]}),(0,s.jsxs)(o.aY,{children:[(0,s.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(i.I,{id:"email",type:"email",placeholder:"your@email.com",value:e,onChange:e=>t(e.target.value),className:"pl-10",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mật khẩu"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(i.I,{id:"password",type:g?"text":"password",placeholder:"Mật khẩu (\xedt nhất 6 k\xfd tự)",value:r,onChange:e=>c(e.target.value),className:"pl-10 pr-10",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600 flex items-center justify-center",children:g?(0,s.jsx)(h,{className:"h-4 w-4"}):(0,s.jsx)(m,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"X\xe1c nhận mật khẩu"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(i.I,{id:"confirmPassword",type:v?"text":"password",placeholder:"Nhập lại mật khẩu",value:f,onChange:e=>p(e.target.value),className:"pl-10 pr-10",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>b(!v),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600 flex items-center justify-center",children:v?(0,s.jsx)(h,{className:"h-4 w-4"}):(0,s.jsx)(m,{className:"h-4 w-4"})})]})]}),N&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:N}),(0,s.jsx)(l.z,{type:"submit",className:"w-full",disabled:w,children:w?"Đang đăng k\xfd...":"Đăng k\xfd"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Đ\xe3 c\xf3 t\xe0i khoản?"," ",(0,s.jsx)("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Đăng nhập ngay"})]})}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 text-blue-600 mt-0.5 mr-2"}),(0,s.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,s.jsx)("p",{className:"font-medium",children:"Th\xf4ng tin t\xe0i khoản:"}),(0,s.jsxs)("p",{children:["• T\xe0i khoản mới sẽ c\xf3 quyền ",(0,s.jsx)("strong",{children:"Viewer"})]}),(0,s.jsx)("p",{children:"• Chỉ c\xf3 thể xem dashboard v\xe0 audit logs"}),(0,s.jsx)("p",{children:"• Admin c\xf3 thể n\xe2ng cấp quyền sau"})]})]})})]})]})})}},495:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var s=r(7437),a=r(2265),n=r(3027),l=r(7440);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 relative overflow-hidden group",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md btn-brutal",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md btn-brutal",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-primary/50 shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",gradient:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 shadow-lg hover:shadow-xl btn-brutal",glass:"glass text-foreground hover:bg-white/90 shadow-lg hover:shadow-xl"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-11 w-11 rounded-lg",xl:"h-14 rounded-xl px-10 text-lg"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,loading:o,leftIcon:c,rightIcon:d,children:u,disabled:h,...m}=e;return(0,s.jsxs)("button",{className:(0,l.cn)(i({variant:a,size:n}),r),ref:t,disabled:h||o,...m,children:[o&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!o&&c&&(0,s.jsx)("span",{className:"mr-2",children:c}),u,!o&&d&&(0,s.jsx)("span",{className:"ml-2",children:d})]})});o.displayName="Button"},6013:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},ll:function(){return o}});var s=r(7437),a=r(2265),n=r(7440);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},3102:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var s=r(7437),a=r(2265),n=r(7440);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(4839),a=r(6164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},8030:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2265);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:n("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,s.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),o),...c})});return r.displayName="".concat(e),r}},2022:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(8030).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[934,971,23,744],function(){return e(e.s=5330)}),_N_E=e.O()}]);