(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{5330:function(e,t,r){Promise.resolve().then(r.bind(r,542))},542:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(7437),a=r(2265),n=r(6463),l=r(495),i=r(3102),c=r(6013),o=r(7412),u=r(8030);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,u.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),m=(0,u.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),h=(0,u.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),x=(0,u.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=(0,u.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function g(){let[e,t]=(0,a.useState)(""),[r,u]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[k,C]=(0,a.useState)(""),[R,Z]=(0,a.useState)(!1),S=(0,n.useRouter)(),M=async t=>{if(t.preventDefault(),w(!0),C(""),!e||!r||!g){C("Vui l\xf2ng điền đầy đủ th\xf4ng tin"),w(!1);return}if(r!==g){C("Mật khẩu x\xe1c nhận kh\xf4ng khớp"),w(!1);return}if(r.length<6){C("Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự"),w(!1);return}try{let t=new URLSearchParams;t.append("email",e),t.append("password",r);let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(s.ok)Z(!0),setTimeout(()=>{S.push("/login")},2e3);else{let e=await s.json();C(e.detail||"Đăng k\xfd thất bại")}}catch(e){C("Lỗi kết nối. Vui l\xf2ng thử lại.")}finally{w(!1)}};return R?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)(c.Zb,{className:"w-full max-w-md",children:(0,s.jsx)(c.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Đăng k\xfd th\xe0nh c\xf4ng!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"T\xe0i khoản của bạn đ\xe3 được tạo với quyền Viewer."}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Đang chuyển hướng đến trang đăng nhập..."})]})})})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)(c.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(c.Ol,{className:"text-center",children:[(0,s.jsx)(c.ll,{className:"text-2xl font-bold",children:"Đăng k\xfd t\xe0i khoản"}),(0,s.jsx)(c.SZ,{children:"Tạo t\xe0i khoản mới để truy cập hệ thống"})]}),(0,s.jsxs)(c.aY,{children:[(0,s.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(i.I,{id:"email",type:"email",placeholder:"your@email.com",value:e,onChange:e=>t(e.target.value),className:"pl-10",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mật khẩu"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(i.I,{id:"password",type:v?"text":"password",placeholder:"Mật khẩu (\xedt nhất 6 k\xfd tự)",value:r,onChange:e=>u(e.target.value),className:"pl-10 pr-10",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!v),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",children:v?(0,s.jsx)(h,{}):(0,s.jsx)(x,{})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"X\xe1c nhận mật khẩu"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(i.I,{id:"confirmPassword",type:b?"text":"password",placeholder:"Nhập lại mật khẩu",value:g,onChange:e=>p(e.target.value),className:"pl-10 pr-10",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>j(!b),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",children:b?(0,s.jsx)(h,{}):(0,s.jsx)(x,{})})]})]}),k&&(0,s.jsx)(o.bZ,{variant:"destructive",children:(0,s.jsx)(o.X,{children:k})}),(0,s.jsx)(l.z,{type:"submit",className:"w-full",disabled:N,children:N?"Đang đăng k\xfd...":"Đăng k\xfd"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Đ\xe3 c\xf3 t\xe0i khoản?"," ",(0,s.jsx)("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Đăng nhập ngay"})]})}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(f,{className:"h-4 w-4 text-blue-600 mt-0.5 mr-2"}),(0,s.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,s.jsx)("p",{className:"font-medium",children:"Th\xf4ng tin t\xe0i khoản:"}),(0,s.jsxs)("p",{children:["• T\xe0i khoản mới sẽ c\xf3 quyền ",(0,s.jsx)("strong",{children:"Viewer"})]}),(0,s.jsx)("p",{children:"• Chỉ c\xf3 thể xem dashboard v\xe0 audit logs"}),(0,s.jsx)("p",{children:"• Admin c\xf3 thể n\xe2ng cấp quyền sau"})]})]})})]})]})})}},7412:function(e,t,r){"use strict";r.d(t,{X:function(){return o},bZ:function(){return c}});var s=r(7437),a=r(2265),n=r(3027),l=r(7440);let i=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(i({variant:a}),r),...n})});c.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",r),...a})});o.displayName="AlertDescription"},495:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),a=r(6800),n=r.n(a);r(2265);let l={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},i={primary:"bg-blue-600 text-white hover:bg-blue-700 focus-visible:outline-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:outline-gray-400",ghost:"bg-transparent text-gray-900 hover:bg-gray-50 focus-visible:outline-gray-300",danger:"bg-red-600 text-white hover:bg-red-700 focus-visible:outline-red-600",outline:"border border-gray-300 bg-transparent text-gray-900 hover:bg-gray-50 focus-visible:outline-gray-300"};function c(e){let{className:t,variant:r="primary",size:a="md",disabled:c,...o}=e;return(0,s.jsx)("button",{className:n()("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:opacity-50 disabled:pointer-events-none",l[a],i[r],t),disabled:c,...o})}},6013:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return u},ll:function(){return c}});var s=r(7437),a=r(2265),n=r(7440);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});u.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},3102:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7437),a=r(6800),n=r.n(a);r(2265);let l={sm:"h-8 px-3 text-sm",md:"h-10 px-3 text-sm",lg:"h-12 px-4 text-base"};function i(e){let{className:t,uiSize:r="md",...a}=e;return(0,s.jsx)("input",{className:n()("w-full rounded-md border border-gray-300 bg-white text-gray-900 placeholder:text-gray-400 shadow-sm transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200",l[r],t),...a})}},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(4839),a=r(6164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},8030:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(2265);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:u,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:c?24*Number(i)/Number(a):i,className:n("lucide",o),...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:c,...o}=r;return(0,s.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),c),...o})});return r.displayName="".concat(e),r}},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},3027:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var s=r(4839);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.W,l=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,c=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let n=a(t)||a(s);return l[e][n]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,c,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...o}[t]):({...i,...o})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[422,971,23,744],function(){return e(e.s=5330)}),_N_E=e.O()}]);